file:
  /usr/local/etc/php-fpm.conf:
    filetype: file
    exists: true
  /usr/local/etc/php/conf.d/xdebug.ini:
    filetype: file
    exists: true
    contains:
      - "xdebug.remote_enable = 1"
  /usr/local/etc/php-fpm.d/docker.conf:
    filetype: file
    exists: true
    contains:
      - "log_limit = 8192"
  /usr/local/etc/php-fpm.d/zz-docker.conf:
    filetype: file
    exists: true
    contains:
      - "daemonize = no"
  /usr/local/etc/php-fpm.d/www.conf:
    filetype: file
    exists: true
    contains:
      - "pm.max_children = 5"
port:
  tcp6:9000:
    listening: true
    ip:
      - '::'
process:
  php-fpm:
    running: true
group:
  www-data:
    exists: true
user:
  www-data:
    exists: true
    groups:
      - www-data
package:
  curl:
    installed: true
command:
  "php -v":
    stdout:
      - "PHP 7.4"
    stderr:
      - "!/Unable to load dynamic library/"
    exit-status: 0
  "php -m":
    stdout:
      # Base Image Dependencies
      - pdo_mysql
      - pdo_pgsql
      - OPcache
      - amqp
      - sockets
      - intl
      - pcntl
      # Compiled Dependencies
      #- xdebug
      #- bz2
      #- pcov
      #- redis
      # Optional Dependencies
      # - xmlrpc
    exit-status: 0
